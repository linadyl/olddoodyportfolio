"use client";

import { useState, useEffect } from 'react';
import { motion } from 'framer-motion';

const WigglingAsciiBackground = ({ asciiArt }: { asciiArt?: string }) => {
  const [scrollPosition, setScrollPosition] = useState(0);
  
  // Default placeholder ASCII art inside the component
  const defaultAsciiArt = `

                                                         
  










                                                                                                                                                                                                                                                     
                                               .                                                                                                                                                                                                     
                                          .::.:---.::.::                                                                                                                                                                                             
                                         .:-=-==----------:-..                                                                                                                                                                                       
                                        .---=--=--------------:                                                                                                                                                                                      
                                        --------=---=-----:=--=---:.                                                                                                                                                                                 
                                       .---==-----:--=--=-::---------.:                                                                                                                             :.::....:.:.                                     
                                       ::===-----::-:-:-----------: ----:                                                                                                                    .:.:-------::-:--- .:                                   
                                      .:::-=--------::::---------::::----:--                                                                                                             .---:------::-----::-:----.                                 
                                      .:-------:-----::::::::-::------:::::-: :..                                                                                                    ::-:::---:::--::::--:---:-:---.                                 
                                      ..-====-----:. .::--  ::--------::::::: :.:-                                                                                              ...-:::-:::--::-:-:::::--:--:-:---:-                                 
                                       :-===--::--:....::::-------::::--:::::::.::--.                                                                                       ::.-:::::--::----:::-:..:::.::::.-:-:-::                                 
                                       :------::--::::::::--------::-:.:::----:::.::-- .                                                                                .::-..:::----:-----:    ......:::-::.:----::                                 
                                      ..-------::::-:::-:-:---:-::::-....:::-- ....:::.-:...                                                                        :::::..::.:--=---:-:       ...:::::.::-:-:---:.                                  
                                      ..-------:.:..   ....:--.::::::....:.::.    .::-:-:--:                                                                     .-:::::::::.:----:---:..  . :--.  .:.....-:-::::.                                   
                                       .-------::...      .:::::::::::.:::..         :..:-:-:..                                                               .:---. .:::::::-::.-:-::::::----::       .::::-:--:::.                                 
                                      .:--=-----::::::::: .:---:::-::::..:::..            .--:-:.                                                          .-...:--....-::.:....:::.::-----:           .:::--::::::                                  
                                       ---=----.:::.::.:-:::-------:--:::: :--:.           :-----:..                                                     :::::.::-:..:..  ..-:-----..---::..    .:..  ..:::::.: ::.                                  
                                    . :---::-:.         .-:---::--:.--.-::::--: .::.        .----::.                                                  .: :-:-.:::             .......-::::::::  :       ..  :.::-.                                   
                                     .:-=::--::.         .::--.:::::---:-----:     .....     .------:              .              .                 ::-:--.  .                .. :..::-::::-::         . .:::.:-:.                                   
                                      :-------:..         .:-: .:....:::::-----        ::::  ..---::---:           .              .              . ----:--                :::...--:-:--:.::::..    :   ...::---::.                                   
                                      :---------:.....    :::::.....:...  ::---.         .--:..----------:         .              .           ..--------:           .......:::: :::..:-:::::-:::-:-::-::.:---:::.                                    
                                      :--------:::---::....::::::: ...      .:---:..       .:-----.:::-::-::        .            .          .:-------:-:      ..   ...    .:::.::..:--::.:.:-..::::   ... ::-::-.                                    
                                      .-------::    ... ::..:-:--:::..        ....--:...    ..:::..  ::-----.       .            .        .:::::-:-::--   ...:.       . :-.:-::          .  .: :...       ::--::.                                    
                                      .:---:---:..           ...:..::::::-:.:.   .:-:--:       ..::    :-=---:       .           .       --:--:::-. :--:...         .::    .               .   .. .       ..:---:                                    
                                       .:------::.                   . ...:::.::::::::-:-:-. ...:---.  .:: :--:       .         .      .-:-----.....---:           ..:                           . .      :--. ..                                    
                                        :----:--::.     .             .... . -:::::::-::-::. :--::--:     .:--:.      .        .      :------:..   --         .:.. .        .              .   .  .     ..:::-::.                                    
                                       ..-------:------:---::::--::-   ... ...:: :.::-----:. ...-----.     :---::      .      .     .----:::.    .--.       :::.... .... :-.::...:...   .  :     ... .....::::-::                                    
                                         :-----:----------.:-::-:.---::------::...:::.:::::--:  ..-=-:=-   ..----:     .      .    :-----::.    :::. :---:...:--:--:-:-:-::.:..                           -:--::.                                    
                                         :---------::::.:::.     .      ::.:------.::::-::--::-:.  :. .-:..  .----.     .   .    .:-----.      .:::.       ..--::: :-..::..                             . ::::::                                     
                                          .:---:-:::::.:.:::                ..:--: :::---:-----::       .--:.  :--:..   :  . .   :--:--:      .:       .   ..--::::.::.::                              .::::-::.                                     
                                            .::--:::::....::.-..               :-.     ...-----::-.     ..:... .:---.   .::..   :---::.    ..         ::::----:.::::.:-:..                           ..::--::...                                     
                                              :-:::-:::....:.::--:               :--..     . .::-:.:..     .:..::---::::----:.::---: .   ..         ..:--::::-::::::::..:    .   ..  .               ..:----::                                       
                                               ::.:--:-::::::::::::::.              .:..        ...--:.     .:-: ::-:::------::-:--::.:          .::: :-------::-:----:..                 ..:-::::-:----:::::                                        
                                               ..-:-------:...           : .        .::-:-:.       .--.:.  . .:...::-:---::::-------::.         .:--. .:. .      .:-::                      ..::--:--:-:::::..                                       
                                                 . .::-----::-:... .      .:.:::::-:--:----..:--::.::. .--::: ..::.::-:-:::-----::-:..      .:-:::.            .::-:                      . .--::..:-:::--:.                                         
                                                      ...:::-------:..     . :---:-:.:.:..::.-:---::------:::::  ::.:--::::----:::.   ..-::..:..            ...:                       ::.::..::::::--::::..                                         
                                                          :----:::-:-----------::-::-:-::::-:::---::---::::--::::..:---:..::::-...-:..:::. :::::::-:::----:...                     :::.::.:::::.-::-::::.                                            
                                                         :-----::::::.:---.-------==---------------:-----::--:---:--=:-:  :::--:::-::::-:-:::-:-:-------. .::::.. ..     .  .:.:..::  ..:.::.:::::::::.                                              
                                                      .::------:::::: .:::...::::------:--:::----:-:-:--:.--:.-:::--::::-::--::::::-:--:--::---::::...:: .. .      .::-::::::.          .....::::: :.                                                
                                                     --::::::-::--::::::::.::::::::  :::--:. :.:........ ..:::-:::::---:-:---:.:.-::::-:.-:-:----:-::::--:...       ::.                . .:.: . .                                                    
                                                    :--:::::-:::::------:--:---::--::-:.:------:....:..::::-::-:::::----:--:-:::...::-:         . . -::::--.:::-::::...:..   ::-: ..:::.::::.                                                        
                                                   .----::------.. ..:::-:  :::::-.... . ...:::::::--::--:--    :-::---:.::::--:.    :-. ::.:.           .::.:..:....::: .::::. ....::.                                                              
                                                 :--:----::-::.                      . .::::---::---:..:-:..  ..:-::----:.:::::..     ..:---..:::..:.   ...     ..         ..                                                                        
                                                .-:---:.                           ..::------::: ..  ::..     .::..::---:.:::::: :     .--:::     .    .-:::.:.                      ....:                                                           
                                                -------:.                     . .:-::--..:.       .::.      :.:...:.:-:::::::::...:      :--:.:::.     ....:.:::...  .         . ......:..-:.                                                        
                                              .:--:.  .:.   :.::..:..:::.::...::-=---...         .--.     .:.... ...:-:-.:::--:  ..:..    ..:   ..:.   .. .     ..:.... ::::::.:::  ..::::--:..                                                      
                                             :.--::.:      .   ..      .     .:-:-:..        .::--:.    .:-=-:.  ...--:--:::-:  .   .       ..       :-:-                     .::. .-::-:::-::                                                       
                                             :----: .   ...    . .          .:--:. ..... .:---.:::   ..:.:-- ..  ...:-:------:                -:.       :  ...                    :::::::--:::::.                                                    
                                            .:----.... .::-... ..           ::::....:-::...:::..:.  .::..-:.     ...:--:.::-::.       ..      .---          .:::.                    :::::::-::.:                                                    
                                            .---::.:::  .  ...  .          :----..  . .. ..:-:.  .:-::..:-..    ..-:--:-:.:::...      :.  .    .:-:..         :.-:. ...                ..:-----:::                                                   
                                              --:..:.        .            .: ..       .... :: ..:... . .--..   ..   .:-::.:: ...      ::: :.    :-:::::.        :.  . :. .                 .::.:..                                                   
                                            .:---:.                        :            .-::---:.  .:-----:.   ..  ..---.:-::   :    .:-:..       :::-::..        :..        ... .:.       .    ..:                                                  
                                          ..----:.                    .    .::.  .....::.:: .     ::--:-:--  :-.     ::-...:.         :.. :     ...:::. ..:.-::    ::        .                    ..                                                 
                                           .--:.             ...:: .::.      .. ...      .      .:.--..:---  ..      :--.:.:      ..      .-     ...-:.     .:::                 ..                ..                                                
                                            :-:             ..:--  .                              .-:.   ::.         .:-:::.      ... .    ::-.  ...:-:. .                                      :::--.                                               
                                            .:-          .:-----:                                ..:.   .-:          ::- ..           :.   .....    .-:--..          :.               ..:        ..-:.                                               
                                             .-:        .----:-::.       .                      :--.    ..     :     ::-::            -.    ..   ::    :-:  .          .                  ....     ..                                                
                                               ::.   ..:-:.:.:....                    .:-:     .:--     .:.   ..      :--.            .      .   ..:.   ... .:..:. ..                       .  .   .                                                 
                                               .::..  .:. :..   .. .     .::       ....-      .::..    :.     .        ..              :      .   ..--.          .        .                      .:.                                                 
                                                 :-..:::   .         ..---..     ..:: ..   :. ...    :::.    ...                       :      .     ::                      :                     ..                                                 
                                                  :: .::.            .--.      .  :-. ::::..  .     .-:.   ..:                                .                              .                     .                                                 
                                                      .:-:.        ....          .--:::..  . :    ...      :                            .:     ..      ...                      .                 ..                                                 
                                                        :-:      ....          .----:  .   .::   . .       :                      .     .::    :-.       ..                  ..            .....  .                                                  
                                                        .---..  .:.            .:..        :.     .       .                        :.     .   .:::-:     ...        .              ..      .   :.-:                                                  
                                                         ::--..:: .          .....       .::.   .:.     ..                          .     ::.  .:....      ..       .                           ::                                                   
                                                          ..:----.           ...        .--.    -:    .::                            :    .-.    ..   .-::  :                    .    ..      ..                                                     
                                                             ..::..         .           :-..   -:....:.-.                            ::.  ...    ...   .-::...         .          ..      .....                                                      
                                                                ::...      .:.         :::-.  :.  ..:-...                            .::.   ::    :.     .:-..:                    .     ... .                                                       
                                                                 ....      .:       ...:-::..--: ..:-.                                 :..  .-:  ....      ---.:.          :.                                                                        
                                                                     ...  .:-.        .--.:---::::..                                    :-...      ::.     .:. ..           .        . :.:                                                           
                                                                       .   ...    ....---:-::::--:                                       .::       .:         ::-                    :--.                                                            
                                                                             .. .......:--:..--:                                          .:        .          .: .          .      .:.                                                              
                                                                                       .::  :                                              :::  .: ..:         ..            .:-::.::                                                                
                                                                                                                                             :..--.  ..        ..           ...:::                                                                   
                                                                                                                                               ....   .                    .:.                                                                       
                                                                                                                                                 .   ..          .  .   ::::.                                                                        
                                                                                                                                                    ... ... . ...                                                                                    
                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                 
                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                     
                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                     


  `;
  
  // adding in case i want to reuse in diff pages
  const artToRender = asciiArt || defaultAsciiArt;
  
  useEffect(() => {
    const handleScroll = () => {
      setScrollPosition(window.scrollY);
    };
    
    window.addEventListener('scroll', handleScroll);
    
    return () => {
      window.removeEventListener('scroll', handleScroll);
    };
  }, []);

  const renderWigglingLines = () => {
    const lines = artToRender.split('\n');
    return lines.map((line, index) => (
      <motion.div 
        key={index}
        initial={{ x: 0 }}
        animate={{ 
          x: Math.sin((scrollPosition / 50) + (index * 0.2)) * 15 
        }}
        transition={{ 
          type: "tween", 
          ease: "easeOut",
          duration: 0.1 
        }}
        style={{
          fontSize: '10px', 
          lineHeight: '10px', 
          whiteSpace: 'pre',
        }}
        className="font-mono text-grey"
      >
        {line}
      </motion.div>
    ));
  };

  return (
    <div 
      className="fixed top-0 right-0 pointer-events-none opacity-60" 
      style={{ 
        width: '70%',
        textAlign: 'right',
        zIndex: -1
      }}
    >
      {renderWigglingLines()}
    </div>
  );
};

export default WigglingAsciiBackground;